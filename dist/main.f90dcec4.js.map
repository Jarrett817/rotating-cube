{"version":3,"sources":["main.js"],"names":["cube","document","querySelector","init","x","y","isMobile","rotateXY","down","move","speed","result","style","transform","isTransFormed","transformed","array","split","nowXY","match","Move","window","addEventListener","e","touches","clientX","clientY","canMove"],"mappings":"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","file":"main.f90dcec4.js","sourceRoot":"../src","sourcesContent":["let cube = document.querySelector('#cube');\n// 定义一个旋转初始量\nlet init = {\n    x: 0,\n    y: 0\n}\nconst isMobile = (function () {\n    return \"ontouchstart\" in document\n})();\n\nfunction rotateXY(down, move) {\n    let x = move.x - down.x, // x,y为偏移量，通过速度变量来控制偏移量即可\n        y = move.y - down.y,\n        speed = 0.5; // 速度控制器\n    let result = {\n        x: init.x - speed * y + 'deg',\n        y: init.y + speed * x + 'deg'\n    }\n    cube.style.transform = `rotateX(${result.x}) rotateY(${result.y})`\n\n}\n\nfunction isTransFormed() {\n    let transformed = cube.style.transform;\n    if (transformed) {\n        let array = transformed.split(' ');\n        // 使用正则提取x,y的值\n        let nowXY = {\n            x: array[0].match(/rotateX\\((.*)deg\\)/)[1],\n            y: array[1].match(/rotateY\\((.*)deg\\)/)[1] //表示查找rotateY(XXXdeg),(.*)表示查找“(”与“)deg”间的所有内容\n        };\n        init = {\n            x: nowXY.x % 360,\n            y: nowXY.y % 360\n        };\n    }\n}\n\nfunction Move() {\n    window.addEventListener(isMobile ? 'touchstart' : 'mousedown', (e) => {\n        //按下的坐标\n        let down = {}\n        if (isMobile) {\n            down.x = e.touches[0].clientX\n            down.y = e.touches[0].clientY\n        } else {\n            down.x = e.clientX\n            down.y = e.clientY\n        }\n        let canMove = true;\n        isTransFormed()\n        // 监听鼠标移动事件【拖拽】\n        window.addEventListener(isMobile ? 'touchend' : 'mouseup', function () {\n            canMove = false;\n        })\n        window.addEventListener(isMobile ? 'touchmove' : 'mousemove', (e) => {\n            if (canMove) { // 如果canMove为真时，即表示move正常工作\n                let move = {}\n                if (isMobile) {\n                    move.x = e.touches[0].clientX\n                    move.y = e.touches[0].clientY\n                } else {\n                    move.x = e.clientX\n                    move.y = e.clientY\n                }\n                rotateXY(down, move);\n            }\n        })\n    })\n}\n\nMove()"]}